<!doctype html>
<html lang="en">

<head>
   <title></title>
   <style>
      body {
         background-color: powderblue;
      }

      .template {
         display: none;
      }
   </style>
</head>

<body>
   <p id="products-header"></p>
   <img id="products-header-img" width="100px" height="100px" src="" />
   <div class="products">
      <div class="product template" id="product-template-1">
         <a href="">
            <img class='thumbnail' width="60px" height="60px" src="">
         </a><br>
         <span class='product-id'></span><br>
         <span class='product-title'></span><br>
         <span class='price'></span><br>
         <form class="attribute-sizes" name="sizes">
            <table>
               <caption class='size-label'></caption>
               <tr>
                  <td class="attribute-size template">
                     <label><br>
                        <input type="radio" name="size-" value=""><br>
                     </label>
                  </td>
               </tr>
            </table>
         </form>
      </div>
   </div>
</body>

</html>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ajv/8.12.0/ajv2019.min.js" integrity="sha512-0lJa9spNGDvx2WdJx9SR4BnB+DHbGc5QKPA0S8Lj2M+rtMyeIyIO8T9Vc8swa/lvZ+kr2nzG3oMJxapZHOlX2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script type="module">

   import {mergerMap} from './merger-map.js'
   import {dataSources} from './content/data-sources.js'
   import {customFunctions} from '../lib/custom-functions.js'

   import * as __merger from "../../../built/esm/src/browser.js"

   globalThis.debug = true;

   if(debug) {
      const Ajv = window.ajv2019;
      const ajv = new Ajv({
      schemas: [__merger.mergerSchema]
      });
      const validate = ajv.compile(__merger.mergerSchema);
      const valid = validate(mergerMap);
      if (!valid) {
         console.log(validate.errors);
      } else {
         console.log("schema is valid");
      }
   }
   __merger.compose(mergerMap, dataSources, document, customFunctions);
</script>

